## requires:
##     font : xft:Terminus (xfontsel format) or
##            Hack : https://github.com/source-foundry/Hack
##     i3status
##     rofi
##     xbacklight
##     xscreensaver (for screen lock)
##     xterm
##
## ln -s ~/git/mine/dotfiles/i3wm/i3.conf ~/.config/i3/config
## ln -s ~/git/mine/dotfiles/i3wm/i3status.conf ~/.config/i3/i3status.conf

#############################
## Configured Key Bindings ##
#############################
#
#### mod key mappings 
# WIN KEY   mod key (Mod4)
#
# #### apps
# d         rofi
# p         xscreensaver lockscreen
# RET       xterm
#
# #### window actions
# SHIFT q   kill focused window
# h         focus left
# j         focus down
# k         focus up
# l         focus right
# SHIFT h   move focused window left
# SHIFT j   move focused window down
# SHIFT k   move focused window up
# SHIFT l   move focused window right
# CTRL v    split horizontal
# CTRL h    split vertical
#
# #### i3wm window / container layout actions
# f         toggle fullscreen
# s         layout stacking
# w         layout tabbed
# e         layout toggle split
# SHIFT SPACE       layout toggle floating
#
# #### focus
# SPACE     change focus beterrn tiling / float windows
# a         focus parent
#
# #### workspace movement
# 1..0      swicth to workspace 1 - 10
# SHIFT 1..0        move focused container to workspace
#
# #### i3wm config reload / restart
# SHIFT c   reload configuration file
# SHIFT r   restart i3wm in place
#
# #### window resize
# r         toggle window resize
# ## window resize when toggled (arrow keys)
# # left    shrink width
# # down    grow height
# # up      shrink height
# # right   grow width
# ## escape resize mode (non mod)
# # RETURN
# # ESCAPE
# ## escape resize mode (mod)
# r
#
######################
## End Key Bindings ##
######################


set $mod Mod4

##set $font "pango:Terminus 16"
set $font "pango:Hack 14"
font $font

# Use pactl to adjust volume in PulseAudio.
set $refresh_i3status killall -SIGUSR1 i3status
bindsym XF86AudioRaiseVolume exec --no-startup-id \
    pactl set-sink-volume @DEFAULT_SINK@ +2% && $refresh_i3status
bindsym XF86AudioLowerVolume exec --no-startup-id \
    pactl set-sink-volume @DEFAULT_SINK@ -2% && $refresh_i3status
bindsym XF86AudioMute exec --no-startup-id \
    pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status
bindsym XF86AudioMicMute exec --no-startup-id \
    pactl set-source-mute @DEFAULT_SOURCE@ toggle && $refresh_i3status

## use xbacklight for mon brightness
bindsym XF86MonBrightnessUp exec --no-startup-id \
    xbacklight +2
bindsym XF86MonBrightnessDown exec --no-startup-id \
    xbacklight -2

# start rofi (a program launcher)
bindsym $mod+d exec --no-startup-id \
    rofi -show drun -theme solarized -font 'Hack 16'

# lock screen (xscreensaver)
bindsym $mod+p exec --no-startup-id \
    xscreensaver-command -lock

# start a terminal
bindsym $mod+Return exec --no-startup-id \
    xterm

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# kill focused window
bindsym $mod+Shift+q kill

#### window appearance
default_border pixel 1
default_floating_border pixel 1

# Configure 5px of space between windows and to the screen edges.
gaps inner 15px

# Configure an additional 5px of extra space to the screen edges,
# for a total gap of 10px to the screen edges, and 5px between windows.
# gaps outer 5px

# Enabling “Smart Gaps” means no gaps will be shown when there is
# precisely one window or split container on the workspace.
#
# inverse_outer only enables outer gaps when there is exactly one
# window or split container on the workspace.
#smart_gaps on|off|inverse_outer
smart_gaps on

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# split in horizontal orientation
bindsym $mod+Ctrl+h split v

# split in vertical orientation
bindsym $mod+Ctrl+v split h

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child

# Define names for default workspaces
set $ws1 "1: Term"
set $ws2 "2: Qute"
set $ws3 "3: Viv "

# switch to workspace
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+0 workspace 10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+0 move container to workspace 10

# Assign Workspaces:
# find class : xprop | grep WM_CLASS | awk '{print $4}'
assign [class="XTerm"] $ws1
for_window [class="XTerm"] fullscreen enable
assign [class="qutebrowser"] $ws2
assign [class="Signal"] $ws2
assign [class="Vivaldi-stable"] $ws3
assign [class="firefox"] 4

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

# resize window (you can also use the mouse for that)
bindsym $mod+r mode "resize"
mode "resize" {
        bindsym Left resize shrink width 2 px or 2 ppt
        bindsym Down resize grow height 2 px or 2 ppt
        bindsym Up resize shrink height 2 px or 2 ppt
        bindsym Right resize grow width 2 px or 2 ppt

        # back to normal: Enter or Escape or $mod+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}

# status bar
bar {
        colors {
            background #000000
            statusline #00ff00
            separator #00ff00
        }
        position top
        separator_symbol " · "
        status_command i3status -c ~/.config/i3/i3status.conf
        tray_output none
}
